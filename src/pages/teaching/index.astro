---
import SiteLayout from "../../layouts/SiteLayout.astro";
import { getCollection } from "astro:content";
import WorkSubnav from "../../components/WorkSubnav.astro";

let entries = [];
try {
	entries = await getCollection("teaching");
} catch {
	entries = [];
}
entries = entries.filter((e) => !e.data.draft);
entries.sort((a, b) => a.data.term.localeCompare(b.data.term));
---

<SiteLayout title="Teaching">
	<section class="container mt-10 sm:mt-14">
		<h1>Teaching</h1>
		<p class="mt-4 max-w-prose text-zinc-800">
			Courses and instructional work. For publications and talks, see <a href="/work/">Work</a>.
		</p>
		<WorkSubnav />
		<div class="prose mt-6 max-w-prose">
			{entries.length === 0 ? (
				<p class="rounded-xl border border-zinc-200 bg-white p-4">No entries yet.</p>
			) : (
				<ul>
					{entries.map((e) => (
						<li>
							<strong>{e.data.course}</strong> â€” {e.data.term}
							{e.data.institution ? ` (${e.data.institution})` : ""}
						</li>
					))}
				</ul>
			)}
		</div>
	</section>
</SiteLayout>
