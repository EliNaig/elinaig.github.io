---
import SiteLayout from "../layouts/SiteLayout.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import { site } from "../lib/site";

let projects: CollectionEntry<"projects">[] = [];
try {
	projects = await getCollection("projects");
} catch {
	projects = [];
}
projects = projects.filter((p) => !p.data.draft);
projects.sort(
	(a, b) => (b.data.date?.getTime?.() ?? 0) - (a.data.date?.getTime?.() ?? 0),
);
const featured = projects.filter((p) => p.data.selected);
const topProjects = (featured.length ? featured : projects).slice(0, 3);
---

<SiteLayout title="Home" description={site.description}>
	<div class="space-y-10">
		<section class="max-w-2xl">
			<h1
				class="text-4xl font-semibold leading-tight text-zinc-950 sm:text-5xl"
			>
				About me
			</h1>
			<p class="mt-5 text-base leading-7 text-zinc-800">
				Hello! I’m {site.name}, a mathematics student at {
					site.affiliation
				} who sees math as more than a subject—it’s a lens through which I
				uncover patterns in everything, from the physics of climbing ropes
				to the geometry of ski slopes. Like Feynman, I’m driven by the urgency
				of discovery: <em
					>“I was born not knowing and have had only a little time to
					change that here and there.”</em
				>
			</p>
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<div class="prose max-w-none">
				<h2>Current focus</h2>
				<ul>
					<li>
						Working under <a href="https://www2.tulane.edu/~mcan/"
							>Mahir Bilen Can</a
						> as an undergraduate researcher (algebraic coding theory)
					</li>
					<li>
						Exploring seminars and connecting with faculty/graduate
						students
					</li>
				</ul>
			</div>
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<div class="prose max-w-none">
				<h2>Strengths</h2>
				<ul>
					<li>
						<strong>Independent learning:</strong> Currently reading <em
							>Undergraduate Algebraic Geometry</em
						> (Miles Reid)
					</li>
					<li>
						<strong>Teaching:</strong> Lead study groups; enjoy breaking
						down complex proofs and sharing ideas
					</li>
				</ul>
			</div>
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<div class="prose max-w-none">
				<h2>Hobbies &amp; adventures</h2>
				<p>When I’m not immersed in equations:</p>
				<ul>
					<li>
						<strong>Rock climbing</strong> (knot theory in action)
					</li>
					<li><strong>Coffee</strong></li>
					<li><strong>Reading</strong></li>
					<li><strong>Skiing</strong> (contour maps)</li>
					<li><strong>Canoeing</strong> (fluid dynamics)</li>
					<li>
						<strong>Travel</strong> (especially to mountains with good
						coffee shops)
					</li>
				</ul>
			</div>
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<div class="prose max-w-none">
				<h2>YouTube channels I love</h2>
				<div
					class="not-prose mt-4 overflow-x-auto rounded-xl border border-zinc-200"
				>
					<table class="min-w-full border-collapse text-sm">
						<thead
							class="bg-zinc-50 text-left text-xs font-semibold uppercase tracking-wide text-zinc-600"
						>
							<tr>
								<th scope="col" class="px-4 py-3">Channel</th>
								<th scope="col" class="px-4 py-3"
									>Why I love it</th
								>
							</tr>
						</thead>
						<tbody class="divide-y divide-zinc-200 bg-white">
							<tr class="hover:bg-zinc-50/60">
								<td
									class="whitespace-nowrap px-4 py-3 font-medium text-zinc-950"
									>Numberphile &amp; 3Blue1Brown</td
								>
								<td class="px-4 py-3 text-zinc-700"
									>Mind-bending math visuals</td
								>
							</tr>
							<tr class="hover:bg-zinc-50/60">
								<td
									class="whitespace-nowrap px-4 py-3 font-medium text-zinc-950"
									>Dr. Trefor Bazett</td
								>
								<td class="px-4 py-3 text-zinc-700"
									>The GOAT himself</td
								>
							</tr>
							<tr class="hover:bg-zinc-50/60">
								<td
									class="whitespace-nowrap px-4 py-3 font-medium text-zinc-950"
									>MIT OpenCourseWare</td
								>
								<td class="px-4 py-3 text-zinc-700"
									>Who needs Netflix when you can watch
									Gilbert Strang</td
								>
							</tr>
							<tr class="hover:bg-zinc-50/60">
								<td
									class="whitespace-nowrap px-4 py-3 font-medium text-zinc-950"
									>James Hoffmann</td
								>
								<td class="px-4 py-3 text-zinc-700"
									>Because coffee is a science</td
								>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<div class="prose max-w-none">
				<h2>Fun extras</h2>
				<ul>
					<li>
						<strong>Currently reading:</strong>
						<em>Undergraduate Algebraic Geometry</em> (Miles Reid)
					</li>
				</ul>

				<blockquote>
					<p>
						<em
							>“Like a river’s current, I follow where curiosity
							leads—pursuing rigorous research while sharing the
							beauty I find along the way.”</em
						>
						, {site.name}.
					</p>
				</blockquote>
			</div>
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<h2 class="text-2xl font-semibold tracking-tight text-zinc-950">
				Selected work
			</h2>
			{
				topProjects.length === 0 ? (
					<p class="mt-4 text-sm leading-6 text-zinc-700">
						No projects published yet. Add Markdown files in{" "}
						<code>src/content/projects</code> and set{" "}
						<code>draft: false</code>.
					</p>
				) : (
					<ul class="mt-5 space-y-4">
						{topProjects.map((p) => (
							<li class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
								<div class="flex flex-col gap-1">
									<a
										class="text-sm font-semibold text-zinc-950 no-underline hover:underline"
										href={`/projects/${p.slug}/`}
									>
										{p.data.title}
									</a>
									{p.data.summary ? (
										<p class="text-sm leading-6 text-zinc-700">
											{p.data.summary}
										</p>
									) : null}
								</div>
							</li>
						))}
					</ul>
				)
			}
		</section>

		<section
			class="rounded-2xl border border-zinc-200/80 bg-white p-6 shadow-sm"
		>
			<h2 class="text-2xl font-semibold tracking-tight text-zinc-950">
				Links
			</h2>
			<div class="mt-5 flex flex-wrap gap-2 text-sm">
				<a class="pill" href="/research/">Research</a>
				<a class="pill" href="/projects/">Projects</a>
				<a class="pill" href="/publications/">Publications</a>
				<a class="pill" href="/cv/">CV</a>
				<a class="pill" href="/ENCV.pdf">CV (PDF)</a>
			</div>
		</section>
	</div>
</SiteLayout>
